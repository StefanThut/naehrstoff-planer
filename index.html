<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>N√§hrstoff-Planer</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0d1117;
      color: #e6edf3;
      margin: 0;
      padding: 0;
    }
    header {
      background: #161b22;
      padding: 1rem;
      text-align: center;
      border-bottom: 1px solid #30363d;
    }
    header h1 {
      margin: 0;
      color: #58a6ff;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background: #161b22;
      border-bottom: 1px solid #30363d;
    }
    nav button {
      background: none;
      color: #e6edf3;
      border: none;
      padding: 0.75rem 1.2rem;
      font-size: 1rem;
      cursor: pointer;
    }
    nav button.active {
      border-bottom: 2px solid #58a6ff;
      font-weight: bold;
    }
    section {
      display: none;
      padding: 1rem;
    }
    section.active {
      display: block;
    }
    .food-item {
      border-bottom: 1px solid #30363d;
      padding: 0.5rem 0;
    }
    .category {
      font-size: 0.9em;
      color: #8b949e;
    }
  </style>
</head>
<body>
  <header>
    <h1>ü•¶ N√§hrstoff-Planer</h1>
    <p>Ern√§hrung planen, auswerten & verbessern ‚Äì direkt im Browser.</p>
  </header>

  <nav id="tabs">
    <button class="active" data-tab="users">Benutzer</button>
    <button data-tab="foods">Lebensmittel</button>
    <button data-tab="menu">Men√ºplan</button>
    <button data-tab="alternatives">Alternativen</button>
    <button data-tab="distribution">Verteilung</button>
  </nav>

  <!-- Tabs -->
  <section id="users" class="active">
    <h2>Benutzer</h2>
    <p>Hier kannst du Benutzer hinzuf√ºgen, Aktivit√§t & Ziel einstellen.</p>
    <div id="user-list"></div>
    <button onclick="addUser()">+ Neuer Benutzer</button>
  </section>

  <section id="foods">
    <h2>Lebensmittel</h2>
    <p>W√§hle und verwalte typische Lebensmittel.</p>
    <input id="search" placeholder="Suche..." oninput="filterFoods(this.value)" />
    <div id="food-list"></div>
  </section>

  <section id="menu">
    <h2>Men√ºplan</h2>
    <p>Stelle deinen Tagesplan zusammen.</p>
    <div id="menu-output">Noch keine Auswahl.</div>
  </section>

  <section id="alternatives">
    <h2>Alternativen</h2>
    <p>Hier erscheinen Vorschl√§ge f√ºr nachhaltige oder vegetarische Alternativen.</p>
    <div id="alt-list"></div>
  </section>

  <section id="distribution">
    <h2>Verteilung</h2>
    <p>N√§hrstoffe werden auf Benutzer verteilt.</p>
    <div id="distribution-output">Noch keine Daten.</div>
  </section>

  <script>
    // Tabs-Steuerung
    const buttons = document.querySelectorAll("nav button");
    const sections = document.querySelectorAll("section");
    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        buttons.forEach(b => b.classList.remove("active"));
        sections.forEach(s => s.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });

    // Dummy Benutzerverwaltung
    let users = JSON.parse(localStorage.getItem("users") || "[]");
    function addUser() {
      const name = prompt("Name des Benutzers?");
      if (!name) return;
      users.push({ name, ziel: "Erhalt", gewicht: 70 });
      localStorage.setItem("users", JSON.stringify(users));
      renderUsers();
    }
    function renderUsers() {
      const list = document.getElementById("user-list");
      list.innerHTML = users.map(u => `<div>üë§ ${u.name} (${u.ziel}, ${u.gewicht} kg)</div>`).join("");
    }
    renderUsers();

    // Lebensmittel laden (aus foods.js falls vorhanden)
    let foods = window.foods || [];
    function renderFoods(list = foods) {
      const container = document.getElementById("food-list");
      container.innerHTML = list.map(f => `
        <div class="food-item">
          <strong>${f.name}</strong><br>
          <span class="category">${f.category}</span> | ${f.use.join(", ")}
        </div>`).join("");
    }
    function filterFoods(q) {
      q = q.toLowerCase();
      const filtered = foods.filter(f => f.name.toLowerCase().includes(q));
      renderFoods(filtered);
    }
    if (foods.length) renderFoods();

    // Platzhalter-Funktionen f√ºr weitere Tabs
    document.getElementById("menu-output").innerText = "Men√º-Tab wird sp√§ter erg√§nzt.";
    document.getElementById("alt-list").innerText = "Hier erscheinen alternative Produkte.";
    document.getElementById("distribution-output").innerText = "Noch keine Verteilung berechnet.";
  </script>

  <!-- Importiere deine Lebensmittel -->
  <script src="foods.js"></script>
</body>
</html>
